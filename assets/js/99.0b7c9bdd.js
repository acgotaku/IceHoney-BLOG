(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{417:function(t,a,s){"use strict";s.r(a);var e=s(10),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("正常人可以通过鼠标和键盘来操作浏览器，使用滚轮来滚动网页，使用鼠标左键和右键来执行操作，使用键盘输入内容。但是对于残疾人来说可能就不是这样的了，如果一个人身体行动不便只能通过键盘敲击来操作电脑，无法使用鼠标的情况下，如果网页不支持键盘 "),s("code",[t._v("Tab")]),t._v(" 键来切换各种点击按钮，那就会给残疾人的使用带来困难。如果视力不好的人只能借助屏幕阅读器来查看网页，如果按钮或者图片没有合适的标签信息，那就无法通过屏幕阅读器来听到这个按钮或者图片的含义。我们不仅要考虑正常人如何查看网页，也需要顾及到特殊人群的需求，这样才能让每个人都享受到互联网带来的便利。")]),t._v(" "),s("h2",{attrs:{id:"focus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#focus"}},[t._v("#")]),t._v(" focus")]),t._v(" "),s("p",[t._v("focus 状态对于网页易读性非常重要，foucs 决定了键盘事件的去向。但是我们在项目开发的时候经常会给 "),s("code",[t._v("button")]),t._v(" 添加鼠标的 "),s("code",[t._v("hover")]),t._v(" 状态，却忘记了添加 "),s("code",[t._v("focus")]),t._v(" 状态。添加 "),s("code",[t._v("hover")]),t._v(" 状态的 CSS 时，记得同时添加 "),s("code",[t._v("focus")]),t._v(" 状态的 CSS。同时，浏览器会有默认的 "),s("code",[t._v("focus")]),t._v(" 样式， Chrome 下是使用 "),s("code",[t._v("outline")]),t._v(" 属性添加高亮的蓝色边框，记得不要轻易覆盖这个属性为 "),s("code",[t._v("none")]),t._v("。\n但是并不是所有的 HTML 元素都是可以 "),s("code",[t._v("focus")]),t._v(" 的，下面是可以 "),s("code",[t._v("focus")]),t._v("的元素列表。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" focusableElementsString "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"dom-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom-order"}},[t._v("#")]),t._v(" DOM Order")]),t._v(" "),s("p",[t._v("当你使用键盘的 "),s("code",[t._v("Tab")]),t._v(" 来选择下一个按钮的时候，是如何决定顺序的呢？ 答案是根据 DOM 的顺序而不是界面上 UI 的顺序，你可以使用 CSS 来调整 UI 顺序，但是 "),s("code",[t._v("Tab")]),t._v(" 顺序不会改变。\n针对隐藏的元素， "),s("code",[t._v("Tab")]),t._v(" 键也不会触发这个元素的 "),s("code",[t._v("focus")]),t._v("，隐藏的元素 CSS 属性可能含有 "),s("code",[t._v("display: none")]),t._v(" 或者 "),s("code",[t._v("visibility: hidden")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"tabindex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tabindex"}},[t._v("#")]),t._v(" tabindex")]),t._v(" "),s("p",[t._v("对于 "),s("code",[t._v("button")]),t._v(" 和 "),s("code",[t._v("a")]),t._v(" 元素，当然是可以 "),s("code",[t._v("focus")]),t._v(" 的，但是针对类似 "),s("code",[t._v("div")]),t._v(" 这样的元素，如何让它可以 "),s("code",[t._v("focus")]),t._v(" 呢？ 答案是添加 "),s("code",[t._v("tabindex")]),t._v(" 属性。")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("custom-button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("tabindex")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Press Tab to Focus Me!"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("custom-button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("通过添加 "),s("code",[t._v('tabindex="0"')]),t._v(" 可以使这个元素被 "),s("code",[t._v("focus")]),t._v("。那么如何使一个元素不被 "),s("code",[t._v("focus")]),t._v("呢？")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("tabindex")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("-1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("I'm not keyboard focusable"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("foo.focus();"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Focus my sibling"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("使用 "),s("code",[t._v('tabindex="-1"')]),t._v(" 可以确保这个元素不会使用键盘 "),s("code",[t._v("focus")]),t._v("，但是鼠标没有影响。\n"),s("code",[t._v("tabindex")]),t._v(" 当然可以设置大于 0 的值，但我们不推荐这么做，因为默认元素的 "),s("code",[t._v("tabindex")]),t._v(" 都是 0，所以大于 0 的元素最后才会触发 "),s("code",[t._v("focus")]),t._v("。\n现在的网页开发，我们都会自己手动实现 "),s("code",[t._v("select")]),t._v(" 或者 "),s("code",[t._v("dropdown")]),t._v(" 元素，但由于这些不是默认的 HTML 元素，所以需要自己实现键盘的 "),s("code",[t._v("Tab")]),t._v(" 键或者方向键的触发。")]),t._v(" "),s("h2",{attrs:{id:"modals-and-keyboard-traps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modals-and-keyboard-traps"}},[t._v("#")]),t._v(" Modals and keyboard traps")]),t._v(" "),s("p",[t._v("网页开发中经常会出现弹窗，在有弹窗的情况下我们是不能选中背景中的元素的，所以我们需要手动处理 "),s("code",[t._v("Tab")]),t._v(" 键保证只有 "),s("code",[t._v("Modal")]),t._v(" 里的元素可以被 "),s("code",[t._v("focus")]),t._v("。并且在关闭 "),s("code",[t._v("Modal")]),t._v(" 的时候 "),s("code",[t._v("focus")]),t._v(" 回原来的元素。")]),t._v(" "),s("h2",{attrs:{id:"semantics-and-aria"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#semantics-and-aria"}},[t._v("#")]),t._v(" Semantics and ARIA")]),t._v(" "),s("p",[t._v("我们经常使用 HTML 元素来模拟一些功能，例如使用 "),s("code",[t._v("button")]),t._v(" 按钮来模拟菜单功能。这时候我们需要为 "),s("code",[t._v("button")]),t._v(" 添加 "),s("code",[t._v("aria-label")]),t._v(" 属性方便屏幕阅读器理解这个按钮代表的含义。")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("aria-label")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("menu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("当然啦，这种类似的属性还有很多，例如 "),s("code",[t._v("role")]),t._v(" 属性来描述这个元素的定位。")]),t._v(" "),s("h2",{attrs:{id:"accessibility-review"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#accessibility-review"}},[t._v("#")]),t._v(" Accessibility Review")]),t._v(" "),s("p",[t._v("如何检查自己网页的易读性呢，现在也有现成的网页工具和可以集成的 CI 工具。我们可以使用 Chrome 浏览器自带的 "),s("code",[t._v("Lighthouse")]),t._v(" 来检查自己网页的易读性。如果想集成 CI 的话，可以试试"),s("a",{attrs:{href:"https://github.com/dequelabs/axe-core",target:"_blank",rel:"noopener noreferrer"}},[t._v("axe-core"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("提高网页的易读性，不仅可以使用键盘提高操作网页的便利性，也可以照顾特殊人群的使用，何乐而不为呢。")]),t._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/udacity/ud891/tree/gh-pages/lesson2-focus/07-modals-and-keyboard-traps/solution",target:"_blank",rel:"noopener noreferrer"}},[t._v("Modals and keyboard traps sample code"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developers.google.com/web/fundamentals/accessibility",target:"_blank",rel:"noopener noreferrer"}},[t._v("Accessibility"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);