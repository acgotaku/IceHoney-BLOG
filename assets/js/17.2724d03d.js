(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{384:function(e,r,t){e.exports=t.p+"assets/img/js_async_defer.7b56046c.png"},424:function(e,r,t){"use strict";t.r(r);var a=t(10),n=Object(a.a)({},(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("前端开发中，JavaScript 变得越来越重要，页面载入中，JavaScript 占的比重也更高。不同与别的静态资源，例如图片和 SVG 图标。浏览器在解析 JavaScript 时花的时间要多得多。所以优化 JavaScript 也就变得非常重要。")]),e._v(" "),a("h2",{attrs:{id:"减少-javascript-的网络传输开销"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#减少-javascript-的网络传输开销"}},[e._v("#")]),e._v(" 减少 JavaScript 的网络传输开销")]),e._v(" "),a("h3",{attrs:{id:"only-sending-the-code-a-user-needs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#only-sending-the-code-a-user-needs"}},[e._v("#")]),e._v(" Only sending the code a user needs.")]),e._v(" "),a("p",[e._v("一方面，只加载当前页面需要的 JavaScript 文件，可以使用 webpack 的"),a("a",{attrs:{href:"https://webpack.js.org/guides/code-splitting/",target:"_blank",rel:"noopener noreferrer"}},[e._v("code-splitting"),a("OutboundLink")],1),e._v("来解决。另一方面，懒加载一些不是必须的 JavaScript 文件。")]),e._v(" "),a("h3",{attrs:{id:"minification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minification"}},[e._v("#")]),e._v(" Minification")]),e._v(" "),a("p",[e._v("使用"),a("a",{attrs:{href:"https://github.com/terser/terser",target:"_blank",rel:"noopener noreferrer"}},[e._v("terser"),a("OutboundLink")],1),e._v("来压缩 JavaScript 代码。")]),e._v(" "),a("h3",{attrs:{id:"compression"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compression"}},[e._v("#")]),e._v(" Compression")]),e._v(" "),a("p",[e._v("服务器开启 GZIP 来减少传输的文件大小。")]),e._v(" "),a("h3",{attrs:{id:"removing-unused-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#removing-unused-code"}},[e._v("#")]),e._v(" Removing unused code.")]),e._v(" "),a("p",[e._v("针对一些第三方 JavaScript 库，可以使用"),a("a",{attrs:{href:"https://webpack.js.org/guides/tree-shaking/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tree Shaking"),a("OutboundLink")],1),e._v("来移除不需要的代码。")]),e._v(" "),a("h3",{attrs:{id:"caching-code-to-minimize-network-trips"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#caching-code-to-minimize-network-trips"}},[e._v("#")]),e._v(" Caching code to minimize network trips.")]),e._v(" "),a("p",[e._v("使用 "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag",target:"_blank",rel:"noopener noreferrer"}},[e._v("ETag"),a("OutboundLink")],1),e._v(", "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified",target:"_blank",rel:"noopener noreferrer"}},[e._v("Last-Modified"),a("OutboundLink")],1),e._v(", "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cache-Control"),a("OutboundLink")],1),e._v(" 三个配合有效的缓存 JavaScript 文件。")]),e._v(" "),a("h2",{attrs:{id:"优化-javascript-下载和执行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优化-javascript-下载和执行"}},[e._v("#")]),e._v(" 优化 JavaScript 下载和执行")]),e._v(" "),a("p",[e._v("我们可以通过使用 "),a("code",[e._v("async")]),e._v(" 或者 "),a("code",[e._v("defer")]),e._v(" 来优化 JavaScript 的下载和执行，两个关键字的具体作用看下图：")]),e._v(" "),a("p",[a("img",{attrs:{src:t(384),alt:"js async defer"}})]),e._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),a("p",[e._v("JavaScript 的优化并没有银弹，要根据具体项目的实际情况来处理。")]),e._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching",target:"_blank",rel:"noopener noreferrer"}},[e._v("HTTP caching"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/javascript-startup-optimization?hl=en",target:"_blank",rel:"noopener noreferrer"}},[e._v("JavaScript Start-up Optimization"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/loading-third-party-javascript?hl=en",target:"_blank",rel:"noopener noreferrer"}},[e._v("Loading Third-Party JavaScript"),a("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=n.exports}}]);