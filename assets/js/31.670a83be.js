(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{472:function(e,a,t){"use strict";t.r(a);var n=t(10),r=Object(n.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("最近发现一些旧番的音乐只有无损的了...MP3 的已经无法满足大众的需求了么...."),t("br"),e._v("\n但是在 Linux 下直接用 MPD 播放无损音乐不能分轨播放实在是不能接受.\n于是就开始找寻切割的方法...Archwiki 有相关的条目"),t("a",{attrs:{href:"https://wiki.archlinux.org/index.php/APE%2BCUE_Splitting",target:"_blank",rel:"noopener noreferrer"}},[e._v("APE+CUE Splitting"),t("OutboundLink")],1),e._v("\n但是,有个明显的缺陷是分轨之后的文件居然不是用歌曲名字命名的!\n而且还是我不怎么喜欢的 wav 格式...\n不过我还是在菊苣的帮助下找到了完美的解决方案~")]),e._v(" "),t("h2",{attrs:{id:"无损音乐的分轨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无损音乐的分轨"}},[e._v("#")]),e._v(" 无损音乐的分轨")]),e._v(" "),t("p",[e._v("Linux 下有个 shntool 的工具非常实用,可以完美解决无损音乐分轨的问题. 根本不需要 wiki 里面说的 cuebreakpoints")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("shntool "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("split")]),e._v(" -f example.cue -t %n_%p_%t -o "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'cust ext=mp3 lame --quiet - %f'")]),e._v(" example.ape\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("-t 指的是文件的标题,%n 代表编号,%p 表示 Performer，%t 表示 Title.都是从 cue 里面读取的信息,shntool 默认不支持\nmp3 格式的,所以需要指定用 lame 编码器进行编码.当然很多人只是想分轨,并不想转换成压缩的 mp3 格式.")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("shntool "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("split")]),e._v(" -f example.cue -t %n_%p_%t -o flac example.ape\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("直接转换成 flac 格式就好了,因为 flac 格式是开源的无损音乐格式,播放器对它支持的肯定比较好.\n如果出现 "),t("code",[e._v("warning: failed to read data from input file using format: [ape]")]),e._v("\n这样的错误可能需要安装"),t("a",{attrs:{href:"https://www.archlinux.org/packages/community/x86_64/mac/",target:"_blank",rel:"noopener noreferrer"}},[e._v("mac"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"给每个音乐文件打-tag"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#给每个音乐文件打-tag"}},[e._v("#")]),e._v(" 给每个音乐文件打 TAG")]),e._v(" "),t("p",[e._v("转换之后的文件只是单纯的音乐文件,每个音乐并没有包含想关的 TAG 信息,这时候需要用 cuetag.sh 给每个音乐文件打 TAG"),t("br"),e._v(" "),t("a",{attrs:{href:"https://gist.github.com/acgotaku/7279681",target:"_blank",rel:"noopener noreferrer"}},[e._v("cuetag.sh 脚本"),t("OutboundLink")],1),e._v(" 最新版貌似有问题不能使用."),t("br"),e._v(" "),t("code",[e._v("cuetag.sh file.cue *.mp3")]),t("br"),e._v("\n命令很简单,在转换好的音乐文件夹下指定 cue 文件和 mp3 文件即可自动打 TAG,但是需要注意的一点是,这个脚本打的是 ID3v1 的标签,如果是非英语语言的话,\n会出现乱码问题.详情请戳"),t("a",{attrs:{href:"http://linux-wiki.cn/wiki/Mp3%E6%A0%87%E7%AD%BE%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mp3 标签乱码问题分析与解决方案"),t("OutboundLink")],1),e._v("\n所以,之后我们还是要使用"),t("a",{attrs:{href:"https://code.google.com/p/mp3tagiconv/",target:"_blank",rel:"noopener noreferrer"}},[e._v("mp3tagiconv"),t("OutboundLink")],1),e._v("\n这个工具来进行标签的转换使得所有的播放器都能够正确识别 mp3 音乐的标签."),t("br"),e._v(" "),t("code",[e._v('for i in *.mp3; do echo "y"| mp3tagiconv "${i}" ;done')]),t("br"),e._v("\n因为 mp3tagiconv 这个工具每次更新标签都会提示 yes or no ,所以我就修改了下执行方式,使得批量自动化修改.flac 格式的音乐不存在 TAG 编码问题.")]),e._v(" "),t("h2",{attrs:{id:"flac-转换为-mp3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flac-转换为-mp3"}},[e._v("#")]),e._v(" flac 转换为 mp3")]),e._v(" "),t("p",[e._v("虽然在 PC 上听无损比较爽,但是放在手机上受制于存储空间和 CPU 性能,还是转换成 Mp3 比较好.")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("flac -d -c example.flac "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" lame -q "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(" -b "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("320")]),e._v(" - example.mp3\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("如果想保留 flac 的回放增益特性的话可以在转换的时候加上"),t("code",[e._v("--apply-replaygain-which-is-not-lossless")]),e._v(" 参数.")]),e._v(" "),t("p",[e._v("到此,折腾完毕...")])])}),[],!1,null,null,null);a.default=r.exports}}]);